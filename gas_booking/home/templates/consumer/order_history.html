{% extends 'base.html' %}
{% load static %}

{% block title %}Consumer | History{% endblock %}

{% block extra_css %}
<style>
    .date-control{
        margin-left: 10px;
        margin-right: 10px;
        display: block;
        width: 40%;
        padding: 0.375rem 0.75rem;
        font-size: 1rem;
        font-weight: 400;
        line-height: 1.5;
        color: #073642;
        background-color: #a9bdbd;
        background-clip: padding-box;
        border: 1px solid rgba(0, 0, 0, 0.15);
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        border-radius: 0.25rem;
        transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}

    display-flex, .signup-content, .form-row, .form-radio, .select-icon, .select-icon i {
    display: flex;
    display: -webkit-flex; }

    .form-row {
    margin: 0 -15px; }
    .form-row .form-group {
      width: 50%;
      padding: 0 15px; }
  
  .form-group {
    margin-bottom: 23px;
    position: relative; }

    @media screen and (max-width: 575px) {
    .form-row {
      flex-direction: column;
      -moz-flex-direction: column;
      -webkit-flex-direction: column;
      -o-flex-direction: column;
      -ms-flex-direction: column;
      margin: 0px; }
  
    .form-row .form-group {
      width: 100%;
      padding: 0px; }}
</style>
{% endblock %}



{% block content %}
<!-- <div class="d-flex" id="wrapper"> -->
{% include 'consumer/navbar.html' %}
<div class="container-fluid">
    <div class="row flex-nowrap">
        <div class="col-auto col-md-3 col-xl-2 px-sm-2 px-0">
            <div class="border-end" id="sidebar-wrapper" style="width: 15rem;">
                <form method="POST"> {% csrf_token %}
                    <ul class="list-unstyled components mb-5">
                        <li class="list-group-item p-3 ">
                            <div class="form-group">
                                <label> {{filter_form.form.order_date.label}}</label><br>
                                {{filter_form.form.order_date}}
                            </div>
                        </li>

                        <li class="list-group-item p-3">
                            <div class="form-group">
                                {{filter_form.form.store_name.label}}
                                {{filter_form.form.store_name}}
                            </div>
                        </li>

                        <li class="list-group-item p-3">
                            <div class="form-group">
                                {{filter_form.form.gas_name.label}}
                                {{filter_form.form.gas_name}}
                            </div>            
                        </li>

                        <li class="list-group-item p-3">
                            <div class="form-group">
                                {{filter_form.form.status.label}}
                                {{filter_form.form.status}}
                            </div>           
                        </li>

                        <li class="list-group-item p-3">
                            <div class="form-row">
                                <div class="form-group">
                                    <button type="submit" id="filter" class="btn btn-lg btn-primary ">Filter</button>
                                </div>
                                <div class="form-group">
                                    <a href="{% url 'order_history' %}" class="btn btn-lg btn-danger" name="reset_form">clear</a>
                                </div>
                            </div>        
                        </li>
                    </ul>
                </form>
            </div>
        </div>

        <div class="col py-3">
            <div class="container mt-2">
                <div class="panel panel-default mt-3">
                    <div class="panel-heading"><h2>Order History</h2></div>
                    <div class="panel-body">
                        <table class="table table-striped" style="font-size:95%">
                            <thead>
                            <tr>
                                <th>Date of order</th>
                                <th>Time of order</th>
                                <th>Distributor Name</th>
                                <th>Gas Name</th>
                                <th>Payable amount</th>
                                <th>Order Status</th>
                            </tr>
                            </thead>
                            <tbody>
                                {% for order in orders %}
                                <tr>
                                    <td>{{order.order_date}}</td>
                                    <td>{{order.order_time}}</td>
                                    <td>{{order.store_name.distributor_name}}</td>
                                    <td>{{order.gas_name.gas_name}}</td>
                                    <td>{{order.payable_amount}}</td>
                                    <td>{{order.status}}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}